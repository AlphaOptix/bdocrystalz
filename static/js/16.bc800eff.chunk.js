(this.webpackJsonpbdocrystalz=this.webpackJsonpbdocrystalz||[]).push([[16],{169:function(e,t,n){"use strict";n.r(t);var a=n(105),c=n(74),l=n(157),r=n(124),s=n.n(r),i=n(1),o=n(126),u=n(127),b=n(165),f=n(56),j=n(2),d=Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,158))})),O=Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(13)]).then(n.bind(null,161))})),h=Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(14)]).then(n.bind(null,162))})),p=Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,163))})),v=Object(i.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,164))}));var y=function(e){var t=e.crystals,n=e.setCrystals,r=e.anchor,s=e.setAnchor,y=Object(i.useState)({sockets:[],effects:[],breakChance:["None","Low","High","Very High"],grades:[{name:"White",value:"0"},{name:"Green",value:"1"},{name:"Blue",value:"2"},{name:"Yellow",value:"3"},{name:"Orange",value:"4"}]}),m=Object(a.a)(y,2),x=m[0],k=m[1],g=Object(i.useState)(""),C=Object(a.a)(g,2),A=C[0],E=C[1],S=Object(i.useState)("All"),V=Object(a.a)(S,2),z=V[0],w=V[1],P=Object(i.useState)("All"),B=Object(a.a)(P,2),T=B[0],G=B[1],L=Object(i.useState)("All"),H=Object(a.a)(L,2),J=H[0],U=H[1],D=Object(i.useState)("All"),F=Object(a.a)(D,2),N=F[0],R=F[1],W=Object(i.useRef)();Object(i.useEffect)((function(){function e(e){"Enter"!==e.code&&"Escape"!==e.code||s(null)}return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[s]),Object(i.useEffect)((function(){var e=new Set,n=new Set;t.forEach((function(t){e.add(t.socket),t.effect.split(",").forEach((function(e){var t=e.indexOf("+");n.add(e.substr(0,t).trim())})),n.delete("")})),k((function(t){return Object(u.a)(Object(u.a)({},t),{},{sockets:Object(o.a)(e).sort(),effects:Object(o.a)(n).sort()})}))}),[t]);var Y=function(){s(null)};Object(i.useEffect)((function(){clearTimeout(W.current);var e=[];W.current=setTimeout((function(){e=t.filter((function(e){if(!e.name.toUpperCase().includes(A.toUpperCase()))return!1;if("All"!==z&&e.socket!==z)return!1;if("All"!==T&&e.breakChance!==T)return!1;if("All"!==N&&e.grade!==N)return!1;var t=!1;return e.effect.split(",").forEach((function(e){var n=e.indexOf("+");e.substr(0,n).trim()===J&&(t=!0)})),"All"===J||!1!==t})),n(e)}),250)}),[A,T,J,z,N,t,n]);var q=Boolean(r),I=q?"simple-popover":void 0;return Object(j.jsx)(b.a,{id:I,open:q,anchorEl:r,onClose:Y,placement:"bottom-end",disablePortal:!1,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{style:{width:450,padding:"20px 0"}},children:Object(j.jsxs)(i.Suspense,{fallback:Object(j.jsx)(c.a,{style:{display:"flex",justifyContent:"center"},children:Object(j.jsx)(f.a,{disableShrink:!0,size:40})}),children:[Object(j.jsx)(h,{searchValue:A,setSearchValue:E}),Object(j.jsx)(O,{grades:x.grades,gradeValue:N,setGradeValue:R}),Object(j.jsx)(d,{effects:x.effects,effectValue:J,setEffectValue:U}),Object(j.jsx)(v,{breakChance:x.breakChance,breakValue:T,setBreakValue:G}),Object(j.jsx)(p,{sockets:x.sockets,socketValue:z,setSocketValue:w}),Object(j.jsxs)(c.a,{style:{textAlign:"right",paddingTop:10},children:[Object(j.jsx)(l.a,{color:"secondary",onClick:function(){E(""),U("All"),G("All"),w("All"),R("All")},children:"Clear All"}),Object(j.jsx)(l.a,{onClick:Y,children:"Close"})]})]})})};t.default=function(e){var t=e.crystals,n=e.setCrystals,r=Object(i.useState)(null),o=Object(a.a)(r,2),u=o[0],b=o[1];return Object(j.jsxs)(c.a,{style:{display:"flex",justifyContent:"flex-end",flexDirection:"row",paddingBottom:10},disableGutters:!0,children:[Object(j.jsxs)(l.a,{variant:"contained",disableElevation:!0,onClick:function(e){b(u?null:e.currentTarget)},children:[Object(j.jsx)(s.a,{})," Filter"]}),Object(j.jsx)(y,{crystals:t,setCrystals:n,anchor:u,setAnchor:b})]})}}}]);
//# sourceMappingURL=16.bc800eff.chunk.js.map