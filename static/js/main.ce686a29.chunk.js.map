{"version":3,"sources":["components/TableView.js","components/CardView.js","components/FilterPanel.js","components/DataView.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","icon","margin","name","fontWeight","textDecoration","color","StyledTableRow","withStyles","theme","root","backgroundColor","palette","action","hover","TableRow","TableView","crystals","classes","TableContainer","component","Paper","Table","TableHead","TableCell","width","TableBody","map","crystal","className","src","alt","Link","grade","target","rel","href","id","effect","split","i","breakChance","socket","bottomGutter","marginBottom","noBottomPad","paddingBottom","CardComponent","Fragment","Card","CardActionArea","CardHeader","avatar","Avatar","title","Typography","variant","CardContent","Grid","container","direction","justify","alignItems","spacing","item","xs","FilterPanel","setCrystals","useState","anchorEl","sockets","effects","state","setState","searchValue","setSearchValue","socketValue","setSocketValue","breakValue","setBreakValue","effectValue","setEffectValue","filterTimeout","useRef","useEffect","handleKeyUp","e","console","log","code","s","document","addEventListener","removeEventListener","socketList","Set","effectList","breakList","forEach","add","plusIndex","indexOf","substr","trim","delete","sort","handleClose","clearTimeout","current","filteredCrystals","setTimeout","filter","toUpperCase","includes","hasEffect","open","Boolean","undefined","style","display","justifyContent","flexDirection","Button","disableElevation","onClick","event","currentTarget","Popover","onClose","placement","disablePortal","anchorOrigin","vertical","horizontal","transformOrigin","PaperProps","padding","FormControl","InputLabel","htmlFor","shrink","Input","placeholder","value","onChange","Select","labelId","autoWidth","MenuItem","selected","chance","textAlign","paddingTop","withWidth","view","crystalData","push","isWidthDown","CardView","darkTheme","createMuiTheme","type","responsiveFontSizes","App","ThemeProvider","CssBaseline","Container","gutterBottom","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ce686a29.chunk.js","sourcesContent":["import { \n    Link,\n    makeStyles, \n    Paper,\n    Table, \n    TableBody, \n    TableCell, \n    TableContainer,\n    TableHead, \n    TableRow,\n    withStyles\n} from '@material-ui/core';\nimport React from 'react';\n\nconst useStyles = makeStyles({\n    icon: {\n        margin: '10px 10px 10px 5px'\n    },\n    name: {\n        fontWeight: 'bold',\n        textDecoration: 'none !important',\n        '&:hover': {\n            textDecoration: 'underline !important'\n        } \n    },\n    'rarity-4': {\n        color: '#d36300 !important'\n    },\n    'rarity-3': {\n        color: '#f6c232 !important'\n    },\n    'rarity-2': {\n        color: '#0391c4 !important'\n    },\n    'rarity-1': {\n        color: '#5ff369 !important'\n    },\n    'rarity-0': {\n        color: '#fff !important'\n    }\n})\n\nconst StyledTableRow = withStyles((theme) => ({\n    root: {\n        '&:nth-of-type(odd)': {\n            backgroundColor: theme.palette.action.hover,\n        },\n    },\n}))(TableRow);\n\nfunction TableView({crystals}){\n    const classes = useStyles();\n    return (\n        <TableContainer component={Paper}>\n            <Table>\n                <TableHead>\n                    <TableRow key=\"header-row\">\n                        <TableCell width=\"5%\"></TableCell>\n                        <TableCell width=\"40%\">Crystal</TableCell>\n                        <TableCell>Effect</TableCell>\n                        <TableCell width=\"10%\">Break Chance</TableCell>\n                        <TableCell width=\"15%\">Socket</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {crystals.map((crystal) => {\n                        return (\n                            <StyledTableRow key={`crystal-${crystal.id}`}>\n                                <TableCell><img className={classes['icon']} src={crystal.icon} alt=\"icon\" /></TableCell>\n                                <TableCell><Link className={`${classes['name']} ${classes[\"rarity-\" + crystal.grade]}`} target=\"_blank\" rel=\"noreferrer\" href={`https://bdocodex.com/us/item/${crystal.id}`}>{crystal.name}</Link></TableCell>\n                                <TableCell>\n                                    {crystal.effect.split(',').map((effect, i) => {\n                                        return (\n                                            <div key={`effect${effect + i}`}>\n                                                {effect}&nbsp;\n                                            </div>\n                                        )\n                                    })}\n                                </TableCell>\n                                <TableCell>{crystal.breakChance}</TableCell>\n                                <TableCell>{crystal.socket}</TableCell>\n                            </StyledTableRow>\n                        );\n                    })}\n                </TableBody>\n            </Table>\n        </TableContainer>\n    );\n}\n\nexport default TableView;","import React from 'react';\nimport { \n    Card, \n    CardHeader, \n    CardContent, \n    Avatar, \n    makeStyles, \n    Typography, \n    CardActionArea,\n    Grid\n} from '@material-ui/core';\n\nconst useStyles = makeStyles({\n    icon: {\n        margin: '10px 10px 10px 5px'\n    },\n    name: {\n        fontWeight: 'bold',\n        textDecoration: 'none !important',\n        '&:hover': {\n            textDecoration: 'underline !important'\n        } \n    },\n    bottomGutter: {\n        marginBottom: 10\n    },\n    noBottomPad: {\n        paddingBottom: 0\n    },\n    'rarity-4': {\n        color: '#d36300 !important'\n    },\n    'rarity-3': {\n        color: '#f6c232 !important'\n    },\n    'rarity-2': {\n        color: '#0391c4 !important'\n    },\n    'rarity-1': {\n        color: '#5ff369 !important'\n    },\n    'rarity-0': {\n        color: '#fff !important'\n    }\n})\n\nfunction CardComponent({crystals}) {\n    const classes = useStyles();\n    \n    return (\n        <React.Fragment>\n            {crystals.map((crystal) => {\n                return (\n                    <Card className={classes.bottomGutter} key={crystal.id}>\n                        <CardActionArea target=\"_blank\" rel=\"noreferrer\" href={`https://bdocodex.com/us/item/${crystal.id}`}>\n                            <CardHeader \n                                avatar={\n                                    <Avatar alt=\"crysal icon\" src={crystal.icon} />\n                                }\n                                title={\n                                    <Typography className={`${classes['name']} ${classes[\"rarity-\" + crystal.grade]}`} variant=\"body2\">{crystal.name}</Typography>\n                                }\n                                className={classes.noBottomPad}\n                            />\n                            <CardContent>\n                                <Grid container direction=\"row\" justify=\"space-between\" alignItems=\"flex-start\" spacing={1}>\n                                    <Grid item xs={6}>\n                                        <Typography variant=\"body2\">\n                                            <b>Effect:</b>\n                                            <br />\n                                            {crystal.effect.split(',').map((effect, i) => {\n                                                return (\n                                                    <span key={`effect${effect+i}`}>\n                                                        {effect}<br />\n                                                    </span>\n                                                )\n                                            })}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item xs={3}>\n                                        <Typography variant=\"body2\">\n                                            <b>Break Chance:</b>\n                                            <br />\n                                            {crystal.breakChance}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item xs={3}>\n                                        <Typography variant=\"body2\">\n                                            <b>Socket:</b>\n                                            <br />\n                                            {crystal.socket}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </CardContent>\n                        </CardActionArea>\n                    </Card>\n                );\n            })}\n        </React.Fragment>\n    );\n}\n\nexport default CardComponent;","import { Button, Select, InputLabel, MenuItem, FormControl, Input, Popover } from '@material-ui/core';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport { useState, useEffect, useRef } from 'react';\n\n\nfunction FilterPanel({crystals, setCrystals}) {\n    const [state, setState] = useState({\n        anchorEl: false,\n        sockets: [],\n        effects: [],\n        breakChance: [],\n    });\n    const [searchValue, setSearchValue] = useState(\"\"),\n          [socketValue, setSocketValue] = useState(\"All\"),\n          [breakValue, setBreakValue]   = useState(\"All\"),\n          [effectValue, setEffectValue] = useState(\"All\");\n\n    const filterTimeout = useRef();\n\n    const handleClick = (event) => {\n        if(state.anchorEl) {\n            setState({ \n                ...state, \n                anchorEl: null\n            });\n        } else {\n            setState({ \n                ...state,\n                anchorEl: event.currentTarget \n            });\n        }\n    };\n\n    useEffect(() => {\n        function handleKeyUp(e) {\n            console.log(e);\n            if(e.code === \"Enter\" || e.code === \"Escape\") {\n                setState(s => ({\n                    ...s,\n                    anchorEl: null\n                }));\n            }\n        }\n\n        document.addEventListener('keyup', handleKeyUp);\n\n        return function cleanup() {\n            document.removeEventListener('keyup', handleKeyUp);\n        }\n    }, []);\n\n    useEffect(() => {\n        const socketList = new Set();\n        const effectList = new Set();\n        const breakList = new Set();\n\n        crystals.forEach(crystal => {\n            breakList.add(crystal.breakChance);\n            socketList.add(crystal.socket);\n            crystal.effect.split(',').forEach(effect => {\n                const plusIndex = effect.indexOf('+');\n                effectList.add(effect.substr(0,plusIndex).trim());\n            });\n            effectList.delete(\"\");\n        });\n\n        setState(s => ({\n            ...s,\n            breakChance: [...breakList],\n            sockets: [...socketList].sort(),\n            effects: [...effectList].sort()\n        }));\n    },[crystals]);\n  \n    const handleClose = () => {\n      setState({\n          ...state,\n          anchorEl: null\n      });\n    };\n\n    useEffect(() => {\n        clearTimeout(filterTimeout.current);\n        let filteredCrystals = [];\n        filterTimeout.current = setTimeout(() => {\n            filteredCrystals = crystals.filter(crystal => {\n                if (!crystal.name.toUpperCase().includes(searchValue.toUpperCase())) return false;\n                if (socketValue !== 'All' && crystal.socket !== socketValue) return false;\n                if (breakValue !== 'All' && crystal.breakChance !== breakValue) return false;\n                let hasEffect = false;\n                crystal.effect.split(',').forEach(effect => {\n                    const plusIndex = effect.indexOf('+');\n                    if (effect.substr(0,plusIndex).trim() === effectValue) hasEffect = true;\n                });\n                if (effectValue !== 'All' && hasEffect === false) return false;\n                return true;\n            });\n            setCrystals(filteredCrystals);\n        }, 250);\n    }, [searchValue, breakValue, effectValue, socketValue, crystals, setCrystals]);\n\n    const open = Boolean(state.anchorEl);\n    const id = open ? 'simple-popover' : undefined;\n    \n    return (\n        <div style={{ display: 'flex', justifyContent: 'flex-end', flexDirection: 'row', paddingBottom: 10 }}>\n                <Button variant=\"contained\" disableElevation onClick={handleClick}>\n                    <FilterListIcon /> Filter\n                </Button>\n                <Popover\n                    id={id}\n                    open={open}\n                    anchorEl={state.anchorEl}\n                    onClose={handleClose}\n                    placement=\"bottom-end\"\n                    disablePortal={false}\n                    anchorOrigin={{\n                        vertical: 'bottom',\n                        horizontal: 'right',\n                      }}\n                      transformOrigin={{\n                        vertical: 'top',\n                        horizontal: 'right',\n                      }}\n                    PaperProps={{\n                        style: {\n                            width: 450,\n                            padding: 15\n                        }\n                    }}\n                >\n                    <div>\n                        <FormControl style={{width: '100%'}}>\n                            <InputLabel htmlFor=\"search\" shrink={true}>Name</InputLabel>\n                            <Input\n                                placeholder=\"\"\n                                id=\"search\"\n                                value={searchValue} \n                                onChange={event => setSearchValue(event.target.value)}\n                            />\n                        </FormControl>\n                    </div>\n                    <div>\n                        <FormControl style={{width: '100%'}}>\n                            <InputLabel id=\"effect-label\">Effect</InputLabel>\n                            <Select \n                                labelId=\"effect-label\"\n                                autoWidth={true} \n                                value={effectValue}\n                                onChange={event => setEffectValue(event.target.value)}\n                            >\n                                <MenuItem value=\"All\" selected key=\"effect-1\">All</MenuItem>\n                                {state.effects.map((effect, i) => (<MenuItem value={effect} key={`effect+${i}`}>{effect}</MenuItem>))}\n                            </Select>\n                        </FormControl>\n                    </div>\n                    <div>\n                        <FormControl style={{width: '100%'}}>\n                            <InputLabel id=\"break-label\">Break Chance</InputLabel>\n                            <Select \n                                labelId=\"break-label\" \n                                autoWidth={true} \n                                value={breakValue}\n                                onChange={event => setBreakValue(event.target.value)}\n                            >\n                                <MenuItem value=\"All\" key=\"break-1\">All</MenuItem>\n                                {state.breakChance.map((chance, i) => (<MenuItem value={chance} key={`break+${i}`}>{chance}</MenuItem>))}\n                            </Select>\n                        </FormControl>\n                    </div>\n                    <div>\n                        <FormControl style={{width: '100%'}}>\n                            <InputLabel id=\"socket-label\">Socket</InputLabel>\n                            <Select \n                                labelId=\"socket-label\" \n                                autoWidth={true} \n                                value={socketValue}\n                                onChange={event => setSocketValue(event.target.value)}\n                            >\n                                <MenuItem value=\"All\" selected key=\"socket-1\">All</MenuItem>\n                                {state.sockets.map((socket, i) => (<MenuItem value={socket} key={`socket+${i}`}>{socket}</MenuItem>))}\n                            </Select>\n                        </FormControl>\n                    </div>\n                    <div style={{ textAlign: 'right', paddingTop: 10 }}>\n                        <Button color=\"secondary\" onClick={() => {\n                            setSearchValue('');\n                            setEffectValue('All');\n                            setBreakValue('All');\n                            setSocketValue('All');\n                        }}>Clear All</Button>\n                        <Button onClick={handleClose}>Close</Button>\n                    </div>\n              </Popover>\n        </div>\n    )\n}\n\nexport default FilterPanel;","import withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport crystalData from '../data/crystals.json';\nimport TableView from './TableView';\nimport CardView from './CardView';\nimport FilterPanel from './FilterPanel';\nimport { useState } from 'react';\n\nfunction DataView({width}) {\n    const view = [];\n    const [crystals, setCrystals] = useState(crystalData);\n\n    view.push((<FilterPanel crystals={crystalData} setCrystals={setCrystals} key=\"filterpanel\" />))\n\n    if(isWidthDown('xs', width)) {\n        view.push((<CardView crystals={crystals} key=\"cardview\" />));\n    } else {\n        view.push((<TableView crystals={crystals} key=\"tableview\" />));\n    }\n\n    return view;\n}\n           \nexport default withWidth()(DataView);","import Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport {  unstable_createMuiStrictModeTheme as createMuiTheme, ThemeProvider, responsiveFontSizes } from '@material-ui/core/styles';\nimport './App.css';\nimport DataView from './components/DataView';\nimport React from 'react';\nimport 'fontsource-roboto';\nimport { Link } from '@material-ui/core';\n\nlet darkTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n  },\n});\ndarkTheme = responsiveFontSizes(darkTheme);\n\nfunction App() {\n  return (\n      <ThemeProvider theme={darkTheme}>\n        <CssBaseline />\n        <Container>\n          <div style={{paddingBottom: 30}}>\n            <Typography variant=\"h4\" component=\"h1\" gutterBottom>BDO Crystalz</Typography>\n            <Typography variant=\"h6\" component=\"h2\" gutterBottom>Black Desert Online Crystal Reference</Typography>\n            <Typography gutterBottom>Need to know if there is an AP crystal for your offhand weapon? Now you can find out!</Typography>\n            <Typography gutterBottom>This is a reference for Black Desert Online items called crystals. Crystals are used to slot into specific gear pieces in order to give you some added effects. With this site, you can easily find which crystals suit your specific needs by filtering by the crystal's <em>grade</em>, <em>the effects it grants</em>, <em>which slot it goes in</em>, and <em>how often it is likely to break when you die.</em></Typography>\n            <Typography gutterBottom>See something that's wrong? Have a suggestion for new features? Create an <strong>issue</strong> or <strong>pull request</strong> on our <Link target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/AlphaOptix/bdocrystalz\">Github</Link>.</Typography>\n          </div>\n          <DataView />\n        </Container>\n      </ThemeProvider>\n      \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}