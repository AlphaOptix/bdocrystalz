<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BDO Crystals</title>
    <link rel="stylesheet" href="styles/styles.css" />
</head>
<body ng-app="crystalApp">
<div ng-controller="crystalCtrl as cc" class="container">
    <div class="row">
        <div class="col-md-12">
                <h2>Black Desert Crystal DB</h2>
                <p>A small database for crystals, most other databases lack filter functions. You are able to filter crystals by rarity, slot, break chance, and effects.</p>
        </div>
    </div>
    <div class="row" style="margin-top: 10px;">
        <div class="col-md-2">
            <label>Rarity</label>
        </div>
        <div class="col-md-2">
            <label>Socket Slot</label>
        </div>
        <div class="col-md-2">
            <label>Break Chance</label>
        </div>
        <div class="col-md-2">
            <label>Effect</label>
        </div>
    </div>
    <div class="row" style="margin-bottom: 15px;">
        <div class="col-md-2">
            <select id="rarity" class="select-size" ng-model="cc.search.Rarity" style="width:100%">
                <option value="">All</option>
                <option value="1">White</option>
                <option value="2">Green</option>
                <option value="3">Blue</option>
                <option value="4">Yellow</option>
                <option value="5">Orange</option>
            </select>
        </div>
        <div class="col-md-2">
            <select id="slot" class="select-size" ng-model="cc.search.Slot" style="width:100%">
                <option value="">All</option>
                <option value="Any">Any</option>
                <option value="Weapon">Weapon</option>
                <option value="Secondary">Secondary Weapon</option>
                <option value="Costume">Costume</option>
                <option value="Helmet">Helmet</option>
                <option value="Armor">Armor</option>
                <option value="Gloves">Gloves</option>
                <option value="Shoes">Shoes</option>
            </select>
        </div>
        <div class="col-md-2">
            <select id="breakchance" class="select-size" ng-model="cc.search.BreakChance" style="width:100%">
                <option value="">All</option>
                <option value="Low">Low</option>
                <option value="High">High</option>
            </select>
        </div>
        <div class="col-md-2">
            <input type="text" ng-model="cc.search.ItemEffect" style="width:100%">
        </div>

    </div>
    <div class="row">
        <div class="col-md-12">
            <table class="table-striped" style="width:100%;margin-bottom:100px;margin-top:25px;">
                <thead>
                <tr>
                    <th width="5%"></th>
                    <th width="40%">Name</th>
                    <th>Item Effect</th>
                    <th width="10%">Break Chance</th>
                    <th width="10%">Socket Slot</th>
                </tr>
                </thead>
                <tbody id="tbodyT" ng-cloak>
                    <tr ng-repeat="crystal in cc.crystals | crystal:cc.search | orderBy:['-Rarity','+Name'] as results track by crystal.ID">
                        <td><img class="crystal-icon" ng-src="{{crystal.Image}}" style="margin-right:10px"/></td>
                        <td ng-cloak><a class="item-name rarity-{{crystal.Rarity}}" target="_blank" ng-href="{{'http://bddatabase.net/us/item/'+crystal.ID}}">{{crystal.Name}}</a></td>
                        <td ng-cloak><p ng-bind-html="crystal.ItemEffect | unsafe"></p></td>
                        <td ng-cloak>{{crystal.BreakChance}}</td>
                        <td ng-cloak>{{crystal.Slot}}</td>
                    </tr>
                    <tr ng-cloak ng-if="results.length == 0">
                        <td></td>
                        <td colspan="4" style="padding:10px 0"><b>No Results Found...</b></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-sanitize.min.js"></script>
<script src="scripts/crystals.js"></script>
<script src="scripts/app.js"></script>
</body>
</html>